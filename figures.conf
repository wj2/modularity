[DEFAULT]
# folders
basefolder = modularity/figs/
sim_folder = modularity/simulation_data
model_template = modularizer_([0-9]+)-{run_ind}
model_nls_template = modularizer_nls([0-9]+)-{run_ind}

chairs_path = disentangled/datasets/chairs_images/
shapes_path = disentangled/datasets/dsprites_ndarray_co1sh3sc6or40x32y32_64x64.npz

activity_cmap = Blues
ablation_cmap = Reds
# naming
npart_signifier = N_\textrm{partition}

# colors and styles
# partition_color = 141,160,203
partition_color = 79,117,155
bvae_color = 252,141,98
theory_color = 79,150,250

unbalance_color1 = 93,81,121
unbalance_color2 = 87,31,78

contextual_color = 146,201,177
contextual_offset_color = 180, 230, 177

shape_color = 100, 100, 100
chair_color = 220, 150, 100

partial_color1 = 93,121,81
partial_color2 = 87,78,31

no_overlap_color = 171, 38, 145


lv_color = 127,205,187
# 0, 137, 170
dg_color = 50,91,87
grey_color = 150, 150, 150

unif_width_color = 20, 150, 170

autoencoder_style = dashed
vis_3d = True
vis_colormap = Spectral

con1_color = 161, 255, 125
con2_color = 59, 128, 32
noncon_color = 150, 150, 150

# training DG
inp_dim = 23
dg_dim = 500 
dg_noise = .01
dg_regweight = 0, .1
dg_layers = 300
dg_pr_reg = True
dg_batch_size = 100
dg_train_egs = 100000

dg_epochs = 5

task_offset_var = .4

rescale_fdg = True

# training modu
group_size = 3
n_overlap = 3
group_maker = overlap

tasks_per_group = 100
modu_train_egs = 20000

n_groups = 2
sigma = 0.1
inp_noise = .01
const_init = None
# .1
act_reg = 0
# 0.01
group_width = 50
use_mixer = True
act_func = relu
model_type = linear
integrate_context = True
single_output = True
# hiddens = ()# group_width*n_groups, group_width*n_groups

train_epochs = 80

cluster_cmap = Blues

ccgp_color_wi = 215, 134, 205
ccgp_color_ac = 196, 76, 109
shattering_color = 247, 126, 59
ablation_color = 23, 100, 171

l3_color = 106, 173, 213
l5_color = 23, 100, 171
l8_color = 10, 80, 150

naive_color = 189, 77, 63

[task_intro_figure]
max_relevant_dims = 20
ambient_dims = 10
n_vals = 2
n_contexts = 2

order_cmap = Blues
max_flex_color = .95

mixing_levels = 0, .5, 1
n_feats = 3
n_units = 100

n_tasks = 20
axis_tasks = True

[emergence_figure]

[input_controlled_figure]
nl_str_egs = 0, .5, 1
nl_bounds = 0, 1
n_nls = 20
n_folds = 20
total_power = 200

n_units = 500
n_feats = 5

[input_figure]
n_tasks = 10

[geometry_figure]
run_inds_linear = 5189583, 5189664
# line_color = 
# pt_color = 
# lin, overlap, L = 3
# run_ind_l3 = 5189583

# lin, overlap, L = 5
# run_ind_l5 = 5189664

# lin, overlap, L = 3
# run_ind_noreg = 5189583

# nl, overlap, L = 3
# run_ind_noreg = 5189582

# nl, no overlap, L = 3
# run_ind_noreg = 5189580

# lin, no overlap, L = 3
# run_ind_noreg = 5189579


# lin, no overlap, L = 5
# run_ind_noreg = 5189668

# nl, no overlap, L = 5
# run_ind_noreg = 5189667

# lin, overlap, L = 5
# run_ind_noreg = 5189664

# nl, overlap, L = 5
# run_ind_noreg = 5189665


[intro_figure]
act_reg = 0
# .01

# run_ind_reg = 4005484
# run_ind_noreg = 4007684
# 4005505

# lin, overlap, L = 3
run_ind_l3 = 5189583

# lin, overlap, L = 5
run_ind_l5 = 5189664

# lin, overlap, L = 3
# run_ind_noreg = 5189583

# nl, overlap, L = 3
# run_ind_noreg = 5189582

# nl, no overlap, L = 3
# run_ind_noreg = 5189580

# lin, no overlap, L = 3
# run_ind_noreg = 5189579


# lin, no overlap, L = 5
# run_ind_noreg = 5189668

# nl, no overlap, L = 5
# run_ind_noreg = 5189667

# lin, overlap, L = 5
# run_ind_noreg = 5189664

# nl, overlap, L = 5
# run_ind_noreg = 5189665

[modularity_continuous]
ri_list = 6163392, 6163393, 6163423
continuous = True
inp_dim = 6

n_overlap = 0
n_eg_tasks = 0, 1, 10

[modularity_discrete]
n_eg_tasks = 0, 1, 10
n_overlap = 3
# ri_list = 5978810, 5978831, 5978832
ri_list = 6045818, 6042160, 6042139

[images]
ri_list = 8020578
# 6163314
n_overlap = 3
model_template = mod-img_([0-9]+)-{run_ind}

n_eg_tasks = 0, 1, 10

[geometry_consequences]
context_train_epochs = 10
context_train_samples = 50000

task_train_epochs = 5
task_train_samples = 2000

consequences_run_ind = 6488169
consequences_run_ind_random = 6488168
consequences_n_tasks = 10

n_overlap = 3
n_tasks = 10

run_inds_linear = 6042181, 6042160, 6042139

[controlled]
controlled_template = modularizer_nls[0-9]+-{run_ind}
controlled_folder = modularity/act_modularizers
# consequences_run_ind = 8173138
# consequences_run_ind_random = 8173138
# consequences_run_ind = 9138150
# consequences_run_ind_random = 9138150
consequences_run_ind = 9363236
input_dim_colormap = winter
# new run 

[controlled_rep]
sim_folder = modularity/act_modularizers
model_nls_template_new = mod_mixing_tasks([0-9]+)_nls[0-9]+-{run_ind}
n_units = 200
n_feats = 6

group_size = 2
n_overlap = 2
tasks = 1, 5
nl_strs = 0, .8

nl_runs = 9108815, 9108836
task_runs = 9135829, 9135830, 9135831, 9135815


[other_param_figure]

# lin, overlap, L = 3
lin_overlap_ri = 5189583

# nl, overlap, L = 3
color_overlap_ri = 5189582

# nl, no overlap, L = 3
color_no_overlap_ri = 5189580

# lin, no overlap, L = 3
lin_no_overlap_ri = 5189579


# lin_no_overlap_ri = 5174172
# color_no_overlap_ri = 5174193
# color_overlap_ri = 5174194
# lin_overlap_ri = 5174235

# group size = 5
# overlap_ri = 4009551
# no_overlap_ri = 4009550

# group size = 3
overlap_ri = 4009552
no_overlap_ri = 4009549


[hidden_layer_other]
test_hiddens = 100, 100
hidden_layer_inds = 1, 2, 3
