[DEFAULT]
# folders
basefolder = modularity/figs/
sim_folder = modularity/simulation_data
model_template = modularizer_([0-9]+)-{run_ind}
model_nls_template = modularizer_nls([0-9]+)-{run_ind}

nls_template_big = modularizer_part([0-9]+)_nls([0-9]*)-{run_ind}


chairs_path = disentangled/datasets/chairs_images/
shapes_path = disentangled/datasets/dsprites_ndarray_co1sh3sc6or40x32y32_64x64.npz

activity_cmap = Blues
ablation_cmap = Reds
# naming
npart_signifier = N_\textrm{partition}

# colors and styles
# partition_color = 141,160,203
partition_color = 79,117,155
bvae_color = 252,141,98
theory_color = 79,150,250

unbalance_color1 = 93,81,121
unbalance_color2 = 87,31,78

contextual_color = 146,201,177
contextual_offset_color = 180, 230, 177

shape_color = 100, 100, 100
chair_color = 220, 150, 100

partial_color1 = 93,121,81
partial_color2 = 87,78,31

no_overlap_color = 171, 38, 145


lv_color = 127,205,187
# 0, 137, 170
dg_color = 50,91,87
grey_color = 150, 150, 150

unif_width_color = 20, 150, 170

autoencoder_style = dashed
vis_3d = True
vis_colormap = Spectral

con1_color = 161, 255, 125
con2_color = 59, 128, 32
noncon_color = 150, 150, 150

disentangled_color = 169, 110, 33
unstructured_color = 61, 145, 27

f1_color = 151, 109, 164
f2_color = 117, 70, 241
r1_color = 190, 21, 8
r2_color = 80, 19, 194

# training DG
inp_dim = 23
dg_dim = 500 
dg_noise = .01
dg_regweight = 0, .1
dg_layers = 300
dg_pr_reg = True
dg_batch_size = 100
dg_train_egs = 100000

dg_epochs = 5

task_offset_var = .4

rescale_fdg = True

# training modu
group_size = 3
n_overlap = 3
group_maker = overlap
eg_n_tasks = 1, 20
eg_nl_strs = 0, 1
n_units = 200
n_feats = 6

tasks_per_group = 100
modu_train_egs = 20000

n_groups = 2
sigma = 0.1
inp_noise = .01
const_init = None
# .1
act_reg = 0
# 0.01
group_width = 50
use_mixer = True
act_func = relu
model_type = linear
integrate_context = True
single_output = True
# hiddens = ()# group_width*n_groups, group_width*n_groups

train_epochs = 80

cluster_cmap = Blues

ccgp_color_wi = 215, 134, 205
ccgp_color_ac = 196, 76, 109
shattering_color = 247, 126, 59
ablation_color = 23, 100, 171

l3_color = 106, 173, 213
l5_color = 23, 100, 171
l8_color = 10, 80, 150

naive_color = 189, 77, 63

[task_figure]
group_sizes = 2, 3, 4
task_range = 1, 20
n_task_range_pts = 50
groups_cmap = Oranges

lv2 = 14689181
lv3 = 14648796
lv4 = 14689201
lv5 = 14689202

sim_folder = modularity/act_modularizers

[isolated_rep]
ri_default_lin = 13781523, 13781524, 13781525, 13781526, 13781527, 13781528, 13781529, 13781530, 13781531, 13781532, 13781533, 13781534, 13781535, 13781536, 13781537, 13781538, 13781539, 13781540, 13781541, 13781542, 13781543
ri_default_nonlin = 13781544, 13781545, 13781546, 13781547, 13781548, 13781549, 13781550, 13781551, 13781552, 13781553, 13781554, 13781555, 13781556, 13781557, 13781558, 13781559, 13781560, 13781561, 13781562, 13781563, 13781564
ri_default_full = 13781449, 13781450, 13781451, 13781452, 13781453, 13781454, 13781455, 13781456, 13781457, 13781458, 13781459, 13781460, 13781461, 13781462, 13781516, 13781517, 13781518, 13781519, 13781520, 13781521, 13781522

sim_folder = modularity/act_modularizers

[nicho_simone_figure]
aligned_runind = 3322959
same_runind = 13117116
eg_align = 70

same_color = 182, 53, 53
different_color = 98, 110, 213
diff_color = 160, 53, 182


[task_intro_figure]
max_relevant_dims = 20
ambient_dims = 10
n_vals = 2
n_contexts = 2

order_cmap = Blues
max_flex_color = .95

mixing_levels = 0, .5, 1
n_feats = 3
n_units = 100

n_tasks = 20
axis_tasks = True

[emergence_figure]

[input_controlled_figure]
nl_str_egs = 0, .5, 1
nl_bounds = 0, 1
n_nls = 20
n_folds = 20
total_power = 200

n_units = 500
n_feats = 5

[input_figure]
n_tasks = 10

[geometry_figure]
run_inds_linear = 5189583, 5189664
# line_color = 
# pt_color = 
# lin, overlap, L = 3
# run_ind_l3 = 5189583

# lin, overlap, L = 5
# run_ind_l5 = 5189664

# lin, overlap, L = 3
# run_ind_noreg = 5189583

# nl, overlap, L = 3
# run_ind_noreg = 5189582

# nl, no overlap, L = 3
# run_ind_noreg = 5189580

# lin, no overlap, L = 3
# run_ind_noreg = 5189579


# lin, no overlap, L = 5
# run_ind_noreg = 5189668

# nl, no overlap, L = 5
# run_ind_noreg = 5189667

# lin, overlap, L = 5
# run_ind_noreg = 5189664

# nl, overlap, L = 5
# run_ind_noreg = 5189665


[intro_figure]
act_reg = 0
# .01

# run_ind_reg = 4005484
# run_ind_noreg = 4007684
# 4005505

# lin, overlap, L = 3
run_ind_l3 = 5189583

# lin, overlap, L = 5
run_ind_l5 = 5189664

# lin, overlap, L = 3
# run_ind_noreg = 5189583

# nl, overlap, L = 3
# run_ind_noreg = 5189582

# nl, no overlap, L = 3
# run_ind_noreg = 5189580

# lin, no overlap, L = 3
# run_ind_noreg = 5189579


# lin, no overlap, L = 5
# run_ind_noreg = 5189668

# nl, no overlap, L = 5
# run_ind_noreg = 5189667

# lin, overlap, L = 5
# run_ind_noreg = 5189664

# nl, overlap, L = 5
# run_ind_noreg = 5189665

[modularity_continuous]
ri_list = 6163392, 6163393, 6163423
continuous = True
inp_dim = 6

n_overlap = 0
n_eg_tasks = 0, 1, 10

[modularity_discrete]
n_eg_tasks = 0, 1, 10
n_overlap = 3
# ri_list = 5978810, 5978831, 5978832
ri_list = 6045818, 6042160, 6042139

[images]
ri_list = 8020578
# 6163314
n_overlap = 3
model_template = mod-img_([0-9]+)-{run_ind}

n_eg_tasks = 0, 1, 10

[geometry_consequences]
context_train_epochs = 10
context_train_samples = 50000

task_train_epochs = 5
task_train_samples = 2000

consequences_run_ind = 6488169
consequences_run_ind_random = 6488168
consequences_n_tasks = 10

n_overlap = 3
n_tasks = 10

run_inds_linear = 6042181, 6042160, 6042139

[controlled_weight_init]
controlled_template = modularizer_cons_part[0-9]+_nls-{run_ind}
controlled_folder = modularity/act_modularizers
sim_folder = modularity/act_modularizers
# consequences_run_ind = 8173138
# consequences_run_ind_random = 8173138
# consequences_run_ind = 9138150
# consequences_run_ind_random = 9138150
consequences_run_ind = 9363236
input_dim_colormap = winter

diverge_cmap = Blues

ri_rich_full = 14689241, 14689242, 14689243, 14689244, 14689245, 14689246, 14689247, 14689248, 14689249, 14689250, 14689251, 14689252, 14689253, 14689254, 14689255, 14689256, 14689257, 14689258, 14689599, 14689600, 14689601

ri_lazy_full = 14689644, 14689645, 14689646, 14689647, 14689648, 14689649, 14689650, 14689651, 14689652, 14689653, 14689654, 14689655, 14689656, 14689657, 14689658, 14689659, 14689660, 14689661, 14689662, 14689663, 14689664

ri_lazier_full = 14689707, 14689708, 14689709, 14689710, 14689711, 14689712, 14689713, 14689714, 14689715, 14689716, 14689717, 14689718, 14689719, 14689720, 14689721, 14689722, 14689723, 14689724, 14689725, 14689726, 14689727


[controlled_ntrain]
controlled_template = modularizer_cons_ntrain[0-9]+_part[0-9]+_nls-{run_ind}
controlled_folder = modularity/act_modularizers
input_dim_colormap = winter

diverge_cmap = Blues

x_target = 100
y_target = 0, 1
ref_key = n_new_train

run_inds_sweep = 15423118, 15423119, 15423120, 15423121, 15423122, 15423123, 15423124, 15423125, 15423126, 15423127, 15423128, 15423129, 15423130, 15423131, 15423132, 15423133, 15423149, 15423150, 15423151, 15423152, 15423153

[controlled]
controlled_template = modularizer_cons_part[0-9]+_nls-{run_ind}
controlled_folder = modularity/act_modularizers
input_dim_colormap = winter

diverge_cmap = Blues

x_target = 2
y_target = 0, 1
ref_key = tasks_per_group

run_inds_sweep = 15395914, 15395915, 15395916, 15395917, 15395918, 15395919, 15395920, 15395921, 15395922, 15395923, 15395924, 15395925, 15395926,15395965, 15395966, 15395967, 15395968, 15395969, 15395970, 15395971, 15395972

[controlled_rep]
sim_folder = modularity/act_modularizers
model_nls_template_new = mod_mixing_tasks([0-9]+)_nls[0-9]+-{run_ind}


# default
nls_big_ids = 13162892, 13162893, 13162894, 13162895, 13162896, 13162897, 13162898, 13162899, 13162900, 13162901, 13162902, 13162903, 13162904, 13162905, 13162906, 13162907, 13162908, 13162909, 13162910, 13162911, 13162912

nl_runs = 9108815, 9108836
task_runs = 9135829, 9135830, 9135831, 9135815

[geom_gen_figure]
sim_folder = modularity/act_modularizers
controlled_template = modularizer_cons_part[0-9]+_nls-{run_ind}
zs_cmap = Blues
zs_eg_nls = 0, .8
zs_fix_n_vars = 2

## MODULARITY RUNS
# default
# nls_big_ids = 13162892, 13162893, 13162894, 13162895, 13162896, 13162897, 13162898, 13162899, 13162900, 13162901, 13162902, 13162903, 13162904, 13162905, 13162906, 13162907, 13162908, 13162909, 13162910, 13162911, 13162912
nls_big_ids = 15482395, 15482396, 15482397, 15482398, 15482399, 15482400, 15482401, 15482402, 15482403, 15482404, 15482405, 15482406, 15482407, 15482408, 15482409, 15482410, 15482411, 15482412, 15482418, 15482419, 15482420


## CONSEQUENCE RUNS
# default

zs_run_inds = 10263773, 10263774, 10263775, 10263776, 10263777, 10263778, 10263779, 10263780, 10263781, 10263782, 10263783, 10263784, 10263785, 10263786, 10263787, 10263788, 10263789, 10263790, 10263791, 10263792, 10263793

[other_param_figure]

# lin, overlap, L = 3
lin_overlap_ri = 5189583

# nl, overlap, L = 3
color_overlap_ri = 5189582

# nl, no overlap, L = 3
color_no_overlap_ri = 5189580

# lin, no overlap, L = 3
lin_no_overlap_ri = 5189579


# lin_no_overlap_ri = 5174172
# color_no_overlap_ri = 5174193
# color_overlap_ri = 5174194
# lin_overlap_ri = 5174235

# group size = 5
# overlap_ri = 4009551
# no_overlap_ri = 4009550

# group size = 3
overlap_ri = 4009552
no_overlap_ri = 4009549


[hidden_layer_other]
test_hiddens = 100, 100
hidden_layer_inds = 1, 2, 3
