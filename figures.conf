[DEFAULT]
# folders
basefolder = modularity/figs/
sim_folder = modularity/simulation_data
model_template = modularizer_([0-9]+)-{run_ind}
model_nls_template = modularizer_nls([0-9]+)-{run_ind}

nls_template_big = modularizer_part([0-9]+)_nls([0-9]?)-{run_ind}


chairs_path = disentangled/datasets/chairs_images/
shapes_path = disentangled/datasets/dsprites_ndarray_co1sh3sc6or40x32y32_64x64.npz

activity_cmap = Blues
ablation_cmap = Reds
# naming
npart_signifier = N_\textrm{partition}

# colors and styles
# partition_color = 141,160,203
partition_color = 79,117,155
bvae_color = 252,141,98
theory_color = 79,150,250

unbalance_color1 = 93,81,121
unbalance_color2 = 87,31,78

contextual_color = 146,201,177
contextual_offset_color = 180, 230, 177

shape_color = 100, 100, 100
chair_color = 220, 150, 100

partial_color1 = 93,121,81
partial_color2 = 87,78,31

no_overlap_color = 171, 38, 145


lv_color = 127,205,187
# 0, 137, 170
dg_color = 50,91,87
grey_color = 150, 150, 150

unif_width_color = 20, 150, 170

autoencoder_style = dashed
vis_3d = True
vis_colormap = Spectral

con1_color = 161, 255, 125
con2_color = 59, 128, 32
noncon_color = 150, 150, 150

disentangled_color = 169, 110, 33
unstructured_color = 61, 145, 27

f1_color = 151, 109, 164
f2_color = 117, 70, 241
r1_color = 190, 21, 8
r2_color = 80, 19, 194

# training DG
inp_dim = 23
dg_dim = 500 
dg_noise = .01
dg_regweight = 0, .1
dg_layers = 300
dg_pr_reg = True
dg_batch_size = 100
dg_train_egs = 100000

dg_epochs = 5

task_offset_var = .4

rescale_fdg = True

# training modu
group_size = 3
n_overlap = 3
group_maker = overlap
eg_n_tasks = 1, 20
eg_nl_strs = 0, 1
n_units = 200
n_feats = 6

tasks_per_group = 100
modu_train_egs = 20000

n_groups = 2
sigma = 0.1
inp_noise = .01
const_init = None
# .1
act_reg = 0
# 0.01
group_width = 50
use_mixer = True
act_func = relu
model_type = linear
integrate_context = True
single_output = True
# hiddens = ()# group_width*n_groups, group_width*n_groups

train_epochs = 80

cluster_cmap = Blues

ccgp_color_wi = 215, 134, 205
ccgp_color_ac = 196, 76, 109
shattering_color = 247, 126, 59
ablation_color = 23, 100, 171

l3_color = 106, 173, 213
l5_color = 23, 100, 171
l8_color = 10, 80, 150

naive_color = 189, 77, 63


[nicho_simone_figure]
aligned_runind = 13126561
same_runind = 13117116
eg_align = 50

same_color = 182, 53, 53
different_color = 98, 110, 213
diff_color = 160, 53, 182


[task_intro_figure]
max_relevant_dims = 20
ambient_dims = 10
n_vals = 2
n_contexts = 2

order_cmap = Blues
max_flex_color = .95

mixing_levels = 0, .5, 1
n_feats = 3
n_units = 100

n_tasks = 20
axis_tasks = True

[emergence_figure]

[input_controlled_figure]
nl_str_egs = 0, .5, 1
nl_bounds = 0, 1
n_nls = 20
n_folds = 20
total_power = 200

n_units = 500
n_feats = 5

[input_figure]
n_tasks = 10

[geometry_figure]
run_inds_linear = 5189583, 5189664
# line_color = 
# pt_color = 
# lin, overlap, L = 3
# run_ind_l3 = 5189583

# lin, overlap, L = 5
# run_ind_l5 = 5189664

# lin, overlap, L = 3
# run_ind_noreg = 5189583

# nl, overlap, L = 3
# run_ind_noreg = 5189582

# nl, no overlap, L = 3
# run_ind_noreg = 5189580

# lin, no overlap, L = 3
# run_ind_noreg = 5189579


# lin, no overlap, L = 5
# run_ind_noreg = 5189668

# nl, no overlap, L = 5
# run_ind_noreg = 5189667

# lin, overlap, L = 5
# run_ind_noreg = 5189664

# nl, overlap, L = 5
# run_ind_noreg = 5189665


[intro_figure]
act_reg = 0
# .01

# run_ind_reg = 4005484
# run_ind_noreg = 4007684
# 4005505

# lin, overlap, L = 3
run_ind_l3 = 5189583

# lin, overlap, L = 5
run_ind_l5 = 5189664

# lin, overlap, L = 3
# run_ind_noreg = 5189583

# nl, overlap, L = 3
# run_ind_noreg = 5189582

# nl, no overlap, L = 3
# run_ind_noreg = 5189580

# lin, no overlap, L = 3
# run_ind_noreg = 5189579


# lin, no overlap, L = 5
# run_ind_noreg = 5189668

# nl, no overlap, L = 5
# run_ind_noreg = 5189667

# lin, overlap, L = 5
# run_ind_noreg = 5189664

# nl, overlap, L = 5
# run_ind_noreg = 5189665

[modularity_continuous]
ri_list = 6163392, 6163393, 6163423
continuous = True
inp_dim = 6

n_overlap = 0
n_eg_tasks = 0, 1, 10

[modularity_discrete]
n_eg_tasks = 0, 1, 10
n_overlap = 3
# ri_list = 5978810, 5978831, 5978832
ri_list = 6045818, 6042160, 6042139

[images]
ri_list = 8020578
# 6163314
n_overlap = 3
model_template = mod-img_([0-9]+)-{run_ind}

n_eg_tasks = 0, 1, 10

[geometry_consequences]
context_train_epochs = 10
context_train_samples = 50000

task_train_epochs = 5
task_train_samples = 2000

consequences_run_ind = 6488169
consequences_run_ind_random = 6488168
consequences_n_tasks = 10

n_overlap = 3
n_tasks = 10

run_inds_linear = 6042181, 6042160, 6042139

[controlled]
controlled_template = modularizer_cons_part[0-9]+_nls-{run_ind}
controlled_folder = modularity/act_modularizers
# consequences_run_ind = 8173138
# consequences_run_ind_random = 8173138
# consequences_run_ind = 9138150
# consequences_run_ind_random = 9138150
consequences_run_ind = 9363236
input_dim_colormap = winter

diverge_cmap = Blues

# new run
# default
# run_inds_sweep = 10263773, 10263774, 10263775, 10263776, 10263777, 10263778, 10263779, 10263780, 10263781, 10263782, 10263783, 10263784, 10263785, 10263786, 10263787, 10263788, 10263789, 10263790, 10263791, 10263792, 10263793
run_inds_sweep = 13133254, 13133255, 13133256, 13133262, 13133263, 13133264, 13133265, 13133266, 13133267, 13133268, 13133269, 13133270, 13133271, 13133272, 13133273, 13133274, 13133275, 13133276, 13133277, 13133278, 13133279

# rich (.001)
# run_inds_sweep = 10294205, 10294206, 10294207, 10294208, 10294209, 10294210, 10294211, 10294212, 10294213, 10294214, 10294215, 10294216, 10294217, 10294218, 10294219, 10294220, 10294221, 10294222, 10294223, 10294224, 10294225

# lazier (.2)
# run_inds_sweep = 10273621, 10273622, 10273623, 10273624, 10273625, 10273626, 10273627, 10273628, 10273629, 10273630, 10273631, 10273632, 10273633, 10273634, 10273635, 10273636, 10273637, 10273638, 10273639, 10273640, 10273641

# lazier (.8)
# run_inds_sweep = 10287127, 10287128, 10287129, 10287130, 10287131, 10287132, 10287133, 10287134, 10287135, 10287136, 10287137, 10287138, 10287139, 10287140, 10287141, 10287142, 10287143, 10287146, 10287147, 10287148, 10287149

[controlled_rep]
sim_folder = modularity/act_modularizers
model_nls_template_new = mod_mixing_tasks([0-9]+)_nls[0-9]+-{run_ind}


# default
nls_big_ids = 13133254, 13133255, 13133256, 13133262, 13133263, 13133264, 13133265, 13133266, 13133267, 13133268, 13133269, 13133270, 13133271, 13133272, 13133273, 13133274, 13133275, 13133276, 13133277, 13133278, 13133279

# rich (.001)
# nls_big_ids = 10339238, 10339239, 10339240, 10339241, 10339242, 10339243, 10339244, 10339245, 10339246, 10339247, 10339248, 10339249, 10339250, 10339251, 10339252, 10339253, 10339254, 10339255, 10339256, 10339257, 10339258

# lazy (.2)
# nls_big_ids = 10340492, 10340493, 10340494, 10340495, 10340496, 10340497, 10340498, 10340499, 10340500, 10340501, 10340502, 10340503, 10340504, 10340505, 10340506, 10340507, 10340508, 10340509, 10340510, 10340511, 10340512

# lazier (.8)
# nls_big_ids = 10339202, 10339203, 10339204, 10339205, 10339206, 10339207, 10339208, 10339209, 10339210, 10339211, 10339212, 10339213, 10339214, 10339215, 10339216, 10339217, 10339218, 10339219, 10339220, 10339221, 10339222

nl_runs = 9108815, 9108836
task_runs = 9135829, 9135830, 9135831, 9135815

[geom_gen_figure]
sim_folder = modularity/act_modularizers
controlled_template = modularizer_cons_part[0-9]+_nls-{run_ind}
zs_cmap = Blues
zs_eg_nls = 0, .8
zs_fix_n_vars = 2

## MODULARITY RUNS
# default
nls_big_ids = 12312899, 12312900, 12312901, 12312902, 12312903, 12312904, 12312905, 12312906, 12312907, 12312908, 12312909, 12312910, 12312911, 12312912, 12312913, 12312914, 12312915, 12312916, 12312917, 12312918, 12312919

# rich (.001)
# nls_big_ids = 10339238, 10339239, 10339240, 10339241, 10339242, 10339243, 10339244, 10339245, 10339246, 10339247, 10339248, 10339249, 10339250, 10339251, 10339252, 10339253, 10339254, 10339255, 10339256, 10339257, 10339258

# lazy (.2)
# nls_big_ids = 10340492, 10340493, 10340494, 10340495, 10340496, 10340497, 10340498, 10340499, 10340500, 10340501, 10340502, 10340503, 10340504, 10340505, 10340506, 10340507, 10340508, 10340509, 10340510, 10340511, 10340512

# lazier (.8)
# nls_big_ids = 10339202, 10339203, 10339204, 10339205, 10339206, 10339207, 10339208, 10339209, 10339210, 10339211, 10339212, 10339213, 10339214, 10339215, 10339216, 10339217, 10339218, 10339219, 10339220, 10339221, 10339222

## CONSEQUENCE RUNS
# default
zs_run_inds = 10263773, 10263774, 10263775, 10263776, 10263777, 10263778, 10263779, 10263780, 10263781, 10263782, 10263783, 10263784, 10263785, 10263786, 10263787, 10263788, 10263789, 10263790, 10263791, 10263792, 10263793

# rich (.001)
# zs_run_inds = 10294205, 10294206, 10294207, 10294208, 10294209, 10294210, 10294211, 10294212, 10294213, 10294214, 10294215, 10294216, 10294217, 10294218, 10294219, 10294220, 10294221, 10294222, 10294223, 10294224, 10294225

# lazier (.2)
# zs_run_inds = 10273621, 10273622, 10273623, 10273624, 10273625, 10273626, 10273627, 10273628, 10273629, 10273630, 10273631, 10273632, 10273633, 10273634, 10273635, 10273636, 10273637, 10273638, 10273639, 10273640, 10273641

# lazier (.8)
# zs_run_inds = 10287127, 10287128, 10287129, 10287130, 10287131, 10287132, 10287133, 10287134, 10287135, 10287136, 10287137, 10287138, 10287139, 10287140, 10287141, 10287142, 10287143, 10287146, 10287147, 10287148, 10287149

zs_run_ids = 

[other_param_figure]

# lin, overlap, L = 3
lin_overlap_ri = 5189583

# nl, overlap, L = 3
color_overlap_ri = 5189582

# nl, no overlap, L = 3
color_no_overlap_ri = 5189580

# lin, no overlap, L = 3
lin_no_overlap_ri = 5189579


# lin_no_overlap_ri = 5174172
# color_no_overlap_ri = 5174193
# color_overlap_ri = 5174194
# lin_overlap_ri = 5174235

# group size = 5
# overlap_ri = 4009551
# no_overlap_ri = 4009550

# group size = 3
overlap_ri = 4009552
no_overlap_ri = 4009549


[hidden_layer_other]
test_hiddens = 100, 100
hidden_layer_inds = 1, 2, 3
